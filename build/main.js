webpackJsonp([1],{194:function(t,e,n){"use strict";n.d(e,"a",function(){return r});n(1),n(71),n(300);var r=function(){return function(){}}()},232:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=232},261:function(t,e,n){function r(t){var e=i[t];return e?n.e(e[1]).then(function(){return n(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}var i={"../pages/user-itinerary/user-itinerary.module.ngfactory":[397,0]};r.keys=function(){return Object.keys(i)},r.id=261,t.exports=r},300:function(t,e,n){"use strict";n.d(e,"a",function(){return r});n(1);var r=function(){function t(t,e,n){var r=this;this.logger=t,this.config=e,this.firestore=n,this.show=!1,this.showDetails=[],this.lang="en",this.lang="en",this.config.getLanguage().subscribe(function(t){return r.lang=t}),this.firestore.getActivityMasterList().valueChanges().subscribe(function(t){r.activityTemplates=t[0]})}return t.prototype.ngOnInit=function(){this.showDetails.fill(!1,0,this.day.length)},t.prototype.getObjectKeys=function(t){return Object.keys(t)},t.prototype.compare=function(t,e){return t.displayOrder<e.displayOrder?-1:t.displayOrder>e.displayOrder?1:0},t.prototype.getDescription=function(t){var e=this.activityTemplates.fields.find(function(e){return e.name==t});return void 0==e?"NOT FOUND":e.label[this.lang]},t.prototype.getValue=function(t,e){if("startTime"==t||"endTime"==t){var n="",r=e.toDate(),i=r.getHours();i<10&&(n="0"),n+=i.toString()+":";var o=r.getMinutes();return o<10&&(n+="0"),n+=o.toString()}if("object"!=typeof e)return""==e?"SUDHIR: NULL":0==e?"ZERO":"0"==e?"SUDHIR: ZERO IN STRING":e;if("contact"==t){var a=[];return void 0!=e.name&&""==e.name.trim()?a.push({description:"Name",val:"To be finalized soon..."}):a.push({description:"Name",val:e.name}),a.push(""==e.mob?{description:"mob",val:" - "}:{description:"mob",val:e.mob}),a.push(""==e.sms?{description:"sms",val:" - "}:{description:"sms",val:e.sms}),a.push(""==e.whatsapp?{description:"whatsapp",val:" - "}:{description:"whatsapp",val:e.whatsapp}),a}},t.prototype.isMulitiple=function(t,e){return"contact"==t},t.prototype.funTime=function(t,e){this.logger.eventLog("funTime",{day:t,index:1}),alert("This is under construction. Stay tunned for more details")},t.prototype.toggleShow=function(t){this.logger.eventLog("day click",{day:t}),this.show=!this.show},t.prototype.toggleShowDetails=function(t,e,n,r){this.logger.eventLog("activity click"+r,{day:t,activity:e}),this.showDetails[n]=!this.showDetails[n]},t}()},311:function(t,e,n){"use strict";function r(t){return o._22(0,[(t()(),o.Z(0,0,null,null,2,"ion-nav",[],null,null,null,C.b,C.a)),o._16(6144,null,D.a,null,[M.a]),o.Y(2,4374528,null,0,M.a,[[2,U.a],[2,N.a],j.a,E.a,B.a,o.j,o.u,o.z,o.i,R.l,z.a,[2,G.a],H.a,o.k],{root:[0,"root"]},null),(t()(),o._20(-1,null,["\n"]))],function(t,e){t(e,2,0,e.component.rootPage)},null)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(50),o=n(0),a=(n(1),n(71),n(127)),s=n(128),u=(n(394),n(119),n(299)),c=n(120),l=n(194),f=n(16),p=n(57),h=n(58),d=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},g=this&&this.__generator||function(t,e){function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var r,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},y=function(){function t(t,e,n,r){this.firebase=t,this.afs=e,this.platform=n,this.logger=r}return t.prototype.getToken=function(){return d(this,void 0,void 0,function(){var t;return g(this,function(e){switch(e.label){case 0:return this.platform.is("android")?[4,this.firebase.getToken()]:[3,2];case 1:t=e.sent(),e.label=2;case 2:return this.platform.is("ios")?[4,this.firebase.getToken()]:[3,5];case 3:return t=e.sent(),[4,this.firebase.grantPermission()];case 4:e.sent(),e.label=5;case 5:return this.saveToken(t),[2]}})})},t.prototype.saveToken=function(t){if(t){var e=this.afs.collection("devices"),n={token:t,userId:"userId"};return this.logger.setToken(t),this.logger.eventLog("getToken",n),e.doc(t).set(n)}},t.prototype.onNotifications=function(){return this.firebase.onNotificationOpen()},t}(),v=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},b=this&&this.__generator||function(t,e){function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var r,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},_=function(){function t(t,e,n,r,i,o,a,s){var u=this;this.platform=t,this.firestore=r,this.location=i,this.alertProvider=o,this.toastController=a,this.logger=s,this.rootPage="UserItineraryPage",this.logger.eventLog("App Comp Const",{}),this.initializeURLParams(),t.ready().then(function(){e.styleDefault(),n.hide(),u.notificationSetup()})}return t.prototype.initializeURLParams=function(){var t,e=this.location.path(!0);/\?(.+?\=.+){1}/.test(e)&&(t={},e.split("?")[1].split("&").forEach(function(e){var n=e.split("=");t[n[0]]=n[1]})),this.logger.eventLog("initializeURLParams",void 0==t||null==t?{param:""}:{param:t}),this.firestore.setItrCode(t)},t.prototype.presentToast=function(t){return v(this,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:return this.logger.eventLog("received notification",{message:t}),[4,this.toastController.create({message:t,duration:3e3})];case 1:return e.sent().present(),[2]}})})},t.prototype.notificationSetup=function(){var t=this;this.alertProvider.getToken(),this.alertProvider.onNotifications().subscribe(function(e){t.platform.is("ios")?t.presentToast(e.aps.alert):t.presentToast(e.body)})},t}(),m=n(93),w=function(){return function(){}}(),k=n(82),T=n(302),I=n(303),F=n(304),L=n(305),S=n(306),A=n(307),O=n(308),P=n(309),x=n(310),C=n(396),D=n(52),M=n(86),U=n(6),N=n(34),j=n(12),E=n(2),B=n(5),R=n(8),z=n(47),G=n(20),H=n(13),Z=n(126),K=o.X({encapsulation:2,styles:[],data:{}}),W=o.V("ng-component",_,function(t){return o._22(0,[(t()(),o.Z(0,0,null,null,1,"ng-component",[],null,null,null,r,K)),o.Y(1,49152,null,0,_,[B.a,s.a,a.a,p.a,f.g,y,Z.a,h.a],null,null)],null,null)},{},{},[]),Y=n(174),$=n(26),q=n(274),V=n(68),Q=n(150),J=n(130),X=n(173),tt=n(21),et=n(49),nt=n(59),rt=n(131),it=n(202),ot=n(84),at=n(60),st=n(178),ut=n(108),ct=n(182),lt=n(176),ft=n(298),pt=n(175),ht=n(45),dt=n(156),gt=n(177),yt=o.W(w,[k.b],function(t){return o._7([o._8(512,o.i,o.S,[[8,[T.a,I.a,F.a,L.a,S.a,A.a,O.a,P.a,x.a,W]],[3,o.i],o.s]),o._8(5120,o.r,o._17,[[3,o.r]]),o._8(4608,f.m,f.l,[o.r,[2,f.w]]),o._8(5120,o.b,o._1,[]),o._8(5120,o.p,o._9,[]),o._8(5120,o.q,o._12,[]),o._8(4608,i.c,i.q,[f.d]),o._8(6144,o.D,null,[i.c]),o._8(4608,i.f,Y.a,[]),o._8(5120,i.d,function(t,e,n,r,o){return[new i.k(t,e),new i.o(n),new i.n(r,o)]},[f.d,o.u,f.d,f.d,i.f]),o._8(4608,i.e,i.e,[i.d,o.u]),o._8(135680,i.m,i.m,[f.d]),o._8(4608,i.l,i.l,[i.e,i.m]),o._8(6144,o.B,null,[i.l]),o._8(6144,i.p,null,[i.m]),o._8(4608,o.G,o.G,[o.u]),o._8(4608,i.h,i.h,[f.d]),o._8(4608,i.i,i.i,[f.d]),o._8(4608,$.k,$.k,[]),o._8(4608,$.c,$.c,[]),o._8(4608,q.AngularFirestore,q.AngularFirestore,[V.FirebaseOptionsToken,[2,V.FirebaseNameOrConfigToken],[2,q.EnablePersistenceToken],[2,q.FirestoreSettingsToken],o.w,o.u,[2,q.PersistenceSettingsToken]]),o._8(5120,V.FirebaseApp,V._firebaseAppFactory,[V.FirebaseOptionsToken,[2,V.FirebaseNameOrConfigToken]]),o._8(4608,u.a,u.a,[V.FirebaseOptionsToken,[2,V.FirebaseNameOrConfigToken],o.w,o.u]),o._8(4608,Q.a,Q.a,[j.a,E.a]),o._8(4608,J.a,J.a,[j.a,E.a]),o._8(4608,X.a,X.a,[]),o._8(4608,tt.a,tt.a,[]),o._8(4608,et.a,et.a,[B.a]),o._8(4608,nt.a,nt.a,[E.a,B.a,o.u,H.a]),o._8(4608,rt.a,rt.a,[j.a,E.a]),o._8(5120,f.h,it.c,[f.s,[2,f.a],E.a]),o._8(4608,f.g,f.g,[f.h]),o._8(5120,ot.b,ot.d,[j.a,ot.a]),o._8(5120,G.a,G.b,[j.a,ot.b,f.g,at.b,o.i]),o._8(4608,st.a,st.a,[j.a,E.a,G.a]),o._8(4608,ut.a,ut.a,[j.a,E.a]),o._8(4608,ct.a,ct.a,[j.a,E.a,G.a]),o._8(4608,lt.a,lt.a,[E.a,B.a,H.a,j.a,R.l]),o._8(4608,Z.a,Z.a,[j.a,E.a]),o._8(4608,z.a,z.a,[B.a,E.a]),o._8(4608,s.a,s.a,[]),o._8(4608,a.a,a.a,[]),o._8(4608,m.a,m.a,[q.AngularFirestore]),o._8(4608,p.a,p.a,[q.AngularFirestore,m.a]),o._8(4608,c.a,c.a,[]),o._8(4608,h.a,h.a,[c.a,p.a,B.a]),o._8(4608,y,y,[c.a,q.AngularFirestore,B.a,h.a]),o._8(512,f.c,f.c,[]),o._8(512,o.k,ft.a,[]),o._8(256,E.b,{},[]),o._8(1024,pt.a,pt.b,[]),o._8(1024,B.a,B.b,[i.b,pt.a,o.u]),o._8(1024,E.a,E.c,[E.b,B.a]),o._8(512,H.a,H.a,[B.a]),o._8(512,ht.a,ht.a,[]),o._8(512,j.a,j.a,[E.a,B.a,[2,ht.a]]),o._8(512,R.l,R.l,[j.a]),o._8(256,ot.a,{links:[{loadChildren:"../pages/user-itinerary/user-itinerary.module.ngfactory#UserItineraryPageModuleNgFactory",name:"UserItineraryPage",segment:"user-itinerary",priority:"low",defaultHistory:[]}]},[]),o._8(512,o.h,o.h,[]),o._8(512,dt.a,dt.a,[o.h]),o._8(1024,at.b,at.c,[dt.a,o.o]),o._8(1024,o.c,function(t,e,n,r,o,a,s,u,c,l,f,p,h){return[i.s(t),gt.a(e),X.b(n,r),lt.b(o,a,s,u,c),at.d(l,f,p,h)]},[[2,o.t],E.a,B.a,H.a,E.a,B.a,H.a,j.a,R.l,E.a,ot.a,at.b,o.u]),o._8(512,o.d,o.d,[[2,o.c]]),o._8(131584,o.f,o.f,[o.u,o.T,o.o,o.k,o.i,o.d]),o._8(512,o.e,o.e,[o.f]),o._8(512,i.a,i.a,[[3,i.a]]),o._8(512,$.j,$.j,[]),o._8(512,$.d,$.d,[]),o._8(512,$.i,$.i,[]),o._8(512,it.a,it.a,[]),o._8(512,q.AngularFirestoreModule,q.AngularFirestoreModule,[]),o._8(512,V.AngularFireModule,V.AngularFireModule,[]),o._8(512,u.b,u.b,[]),o._8(512,l.a,l.a,[]),o._8(512,w,w,[]),o._8(256,V.FirebaseOptionsToken,{apiKey:"AIzaSyBxKVsMnMnBYz65usQAZqbBB9LhnmnCbLY",authDomain:"seva-6cc88.firebaseapp.com",databaseURL:"https://seva-6cc88.firebaseio.com",projectId:"seva-6cc88",storageBucket:"seva-6cc88.appspot.com",messagingSenderId:"578460806647"},[]),o._8(256,V.FirebaseNameOrConfigToken,void 0,[]),o._8(256,q.EnablePersistenceToken,!0,[]),o._8(256,q.PersistenceSettingsToken,void 0,[]),o._8(256,k.a,_,[]),o._8(256,f.a,"/",[])])});Object(o.M)(),Object(i.j)().bootstrapModuleFactory(yt)},57:function(t,e,n){"use strict";n.d(e,"a",function(){return s});n(1);var r=n(339),i=(n.n(r),n(341)),o=(n.n(i),n(262)),a=(n.n(o),n(119)),s=(n.n(a),function(){function t(t,e){this.firestore=t,this.config=e}return t.prototype.getTimeInFSFormat=function(t){var e=new Date(t);return e.setHours(e.getUTCHours()),e.setMinutes(e.getUTCMinutes()),o.firestore.Timestamp.fromDate(e)},t.prototype.getTimeFromSecs=function(t){return o.firestore.Timestamp.fromMillis(1e3*t)},t.prototype.getItinerary=function(t){var e=this;return this.firestore.collection("itinerary",function(n){return n.where("appId","==",e.config.getAppId()).where("id","==",t)})},t.prototype.eventLog=function(t){var e=this.firestore.createId();t.id=e,t.appId=this.config.getAppId(),this.firestore.doc("events/"+e).set(t)},t.prototype.setItrCode=function(t){this.itrcode=t},t.prototype.getItrCode=function(){return void 0!=this.itrcode&&void 0!=this.itrcode.itrcode?this.itrcode.itrcode:null},t.prototype.getOtherPackages=function(){var t=this;return this.firestore.collection("packages",function(e){return e.where("appId","==",t.config.getAppId())})},t.prototype.getActivityMasterList=function(){var t=this;return this.firestore.collection("activityMasterList",function(e){return e.where("appId","==",t.config.getAppId())})},t.prototype.rememberItrCode=function(t,e){this.firestore.doc("itrUser/"+t).set({id:t,token:t,itrCode:e,appId:this.config.getAppId(),createdAt:new Date})},t.prototype.getLastUsedItrCode=function(t){var e=this;return void 0!=t&&null!=t||(t=""),console.log("token is "+t),this.firestore.collection("itrUser",function(n){return n.where("appId","==",e.config.getAppId()).where("token","==",t)})},t}())},58:function(t,e,n){"use strict";n.d(e,"a",function(){return o});n(1),n(57),n(120),n(71);var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var r,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},o=function(){function t(t,e,n){this.fba=t,this.firestore=e,this.platform=n,this.events=["Itinerary clicked"],this.location={},this.token=""}return t.prototype.eventLog=function(t,e){return r(this,void 0,void 0,function(){return i(this,function(n){return this.platform.is("cordova")&&(this.eventLogFB(t,e),this.eventLogFS(t,e)),[2]})})},t.prototype.eventLogFS=function(t,e){return r(this,void 0,void 0,function(){return i(this,function(n){return this.device={},this.saveEvent(t,e,"Success"),[2]})})},t.prototype.eventLogFB=function(t,e){return r(this,void 0,void 0,function(){return i(this,function(n){return e.timestamp=new Date,e.token=this.token,this.fba.logEvent(t,{code:e}).then(function(t){},function(t){}),[2]})})},t.prototype.saveEvent=function(t,e,n){return r(this,void 0,void 0,function(){return i(this,function(r){return this.firestore.eventLog({token:this.token,event:t,code:e,device:this.device,readStatus:n,location:this.location,createdAt:new Date}),[2]})})},t.prototype.setToken=function(t){this.token=t},t.prototype.getToken=function(){return this.token},t}()},93:function(t,e,n){"use strict";n.d(e,"a",function(){return o});n(1);var r=n(17),i=n(119),o=(n.n(i),function(){function t(t){this.firestore=t,this.lang$=new r.BehaviorSubject([]),this.app={amId:"oEAdPhLK9pB8ghCQeFi1",appId:2,appWidget:"com.exploritage.alfresco_test"},this.lang="en",this.lang$.next(this.lang)}return t.prototype.getLanguage=function(){return this.lang$},t.prototype.setLanguage=function(t){this.lang=t,this.lang$.next(t)},t.prototype.getAppId=function(){return this.app.appId},t.prototype.getAppIdWithDetails=function(){return this.firestore.collection("appConfig",function(t){return t.where("appWidget","==","com.exploritage.alfresco_test")})},t}())}},[311]);